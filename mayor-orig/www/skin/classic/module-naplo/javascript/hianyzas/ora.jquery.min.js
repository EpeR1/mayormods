
$(function() {
    $('table input[type=text].perc').each(
        function (index) {
            $(this).bind('change', function(event) {
                var element = $(event.target);
                element.next('input').prop('checked',(element.val() != '0'));
		if (element.val() != '0') {
		    element.addClass('kesett');
		}
            });
        }
    );
    $('td.jelen input[type=radio],td.hiányzás input[type=radio]').change( function(event) {
	var elem=$(event.target);
	var percName = 'PERC_'+elem.attr('id').split('_')[1];
	elem.closest('tr').find('input[name='+percName+']').val(0).removeClass('kesett');	
    });
/*
    $('tr.magantanulo').click( function(event) {
	$('tr.magantanulo').fadeToggle();
    });
*/
    $('tr.felmentett').click( function(event) {
	$('tr.felmentett').fadeToggle();
    });
});
