
$(function() {

    $('input.info').click(function(event) {

	    var elem = $(event.target);
	    var elemInform = $('#inform');
            $('#informTanmenetId').val( elem.closest('td').find('select').val() );
            if ($('#informTanmenetId').val() != '') {
		updateForm(elemInform, elem);
		elemInform.closest('div').show().draggable({ handle: '#infodivheader' }
		);
	    } else {
		alert('Válassz tanmenetet');
	    }
	    return false;

    });
    $('#infodivclose').click(function() { $('#infodiv').hide(); });
    $('form.tanmenet select').change(function(event) {
	    var elem = $(event.target);
	    elem.removeClass('uj kesz jovahagyott publikus elavult');
	    elem.addClass(elem.find('option:selected').prop('class'));
    });
/* Ezt nem értem mit is akart csinálni...
    $('.onChangeUpdateGomb').change(
    	    var elem = $(event.target);
//	    var optionElem = $(elem.options[ elem.selectedIndex ]);
//	    var statusz = optionElem.getAttribute('class');
	    var elemInform = $('#inform');
            $('#informTanmenetId').val(elem.val());
	    updateForm(elemInform, elem);
	return false;	
    );
*/

});


/*
Event.observe(window, 'load', myPSFLoader, false);

    doShowInfo = function(event) {

	var elem = $(Event.element(event));

        if (elem.hasClassName('info')) {
	    var elemInform = $('inform');
            $('informTanmenetId').value = $F(elem.previous('select'));
            if ($('informTanmenetId').value != '') {
		updateForm(elemInform, elem);
Effect.Grow('infodiv');
//		elemInform.up('div').show();
	    } else {
		alert('Válassz tanmenetet');
	    }
	    Event.stop(event);
        }

    }

    doHideInfo = function(event) {

	var elemInform = $('inform');
	Effect.Shrink('infodiv');
//    	elemInform.up('div').hide();

    }

    doOnTanmenetChange = function(event) {
	var elem = $(Event.element(event));

        if (elem.hasClassName('onChangeUpdateGomb')) {
	    var optionElem = $(elem.options[ elem.selectedIndex ]);
	    var statusz = optionElem.getAttribute('class');
	    var elemInform = $('inform');
            $('informTanmenetId').value = $F(elem);
	    updateForm(elemInform, elem);

	}
    }

function myPSFLoader(evt) {

    Event.observe(document.body, 'click', doShowInfo);
    Event.observe('infodivclose', 'click', doHideInfo);

    Event.observe(document.body, 'mayor:change',  doOnTanmenetChange);
    Event.observe(document.body, 'change', doOnTanmenetChange);
var mydrag = new Draggable('infodiv', { scroll: window, handle: $('infodivheader') });

}
*/